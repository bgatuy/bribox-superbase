/* ====== Tap highlight reset (Mobile Safari/Chrome) ====== */
* {
  -webkit-tap-highlight-color: transparent;
}

/* ===========================
   MONTHLY DATA (SCOPED)
   =========================== */

/* Vars khusus halaman ini */
body[data-page="monthly"]{
  --btn-h: 40px;
  --btn-r: 10px;
  --btn-pad-x: 14px;
  /* tinggi baris header pertama; akan dioverride JS kalau ada */
  --th-h1: 44px;
}



/* ========== CONTROLS (badge + search + tombol) ========== */
body[data-page="monthly"] .controls{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; flex-wrap:wrap;
}
body[data-page="monthly"] .controls-left{
  display:flex; align-items:center; gap:12px;
  flex:1 1 520px; min-width:280px;
}
body[data-page="monthly"] .controls-right{
  display:flex; align-items:center; gap:10px;
  flex:0 0 auto;
}

/* Badge bulan */
body[data-page="monthly"] .badge{
  display:inline-block;
  background:#eef2ff; border:1px solid #e0e7ff; color:#3730a3;
  padding:6px 20px; border-radius:15px; font-weight:600; text-align:center;
}

/* Input cari */
body[data-page="monthly"] .search-input{
  width:520px; max-width:100%; height:42px; padding:10px 12px;
  border:1px solid #e5e7eb; border-radius:10px; background:#fff;
}
body[data-page="monthly"] .search-input:focus{
  border-color:#2563eb; box-shadow:0 0 0 4px rgba(59,130,246,.25);
}

/* Tombol seragam + varian warna */
body[data-page="monthly"] .btn{
  height:var(--btn-h); padding:0 var(--btn-pad-x);
  border-radius:var(--btn-r);
  display:inline-flex; align-items:center; justify-content:center;
  border:1px solid #e5e7eb; background:#fff; color:#111827;
  line-height:1; font-weight:600; text-decoration:none; cursor:pointer;
}
body[data-page="monthly"] .btn:hover{ filter:brightness(.97); }
/* biru: Tambah Entri */
body[data-page="monthly"] .btn.info   { background:#2563eb; border-color:#2563eb; color:#fff; }
/* hijau: Export XLSX */
body[data-page="monthly"] .btn.primary{ background:#22c55e; border-color:#22c55e; color:#fff; }
/* merah: Reset Bulan */
body[data-page="monthly"] .btn.danger { background:#ef4444; border-color:#ef4444; color:#fff; }

/* ========== TABLE AREA ========== */
body[data-page="monthly"] .table-area{ min-width:0; } /* guard flex */
body[data-page="monthly"] .tablewrap{
  margin-top:16px; overflow:auto; -webkit-overflow-scrolling:touch;
  max-height:calc(100vh - 320px); border-radius:1px;
}

/* Lebar tabel mengikuti konten → scroll horizontal */
body[data-page="monthly"] .table{
  width:max-content !important; min-width:100%;
  table-layout:auto;
  border-collapse:separate; border-spacing:0;
  font-size:14px;
}

/* Sticky header (2 baris) – tanpa celah */
body[data-page="monthly"] .table thead th{
  background:#c5d9f1; color:#111827; font-weight:700;
  text-align:center; white-space:nowrap; padding:10px 12px;
  border:1px solid #555;
  background-clip:padding-box;           /* hindari garis ketutup */
}

/* Baris 1: Tanggal, Teknisi, Lokasi, Waktu, dst. */
body[data-page="monthly"] .table thead tr.h1 th{
  position:sticky; top:0; z-index:3;
  border-bottom:0;                        /* hindari double-border */
  box-shadow:inset 0 -1px 0 #555;         /* gambar garis bawah */
}

/* Baris 2: sub-kolom (Dari/Ke, Jam..., dst.) */
body[data-page="monthly"] .table thead tr.h2 th{
  position:sticky;
  top:var(--th-h1);                        /* tepat di bawah baris-1 */
  z-index:4;
  border-top:1px solid #555;               /* fix: tambahkan style */
  margin-top:-1px;                         /* ‘rapatkan’ 1px — anti gap */
}

/* Sel data */
body[data-page="monthly"] .table tbody td{
  white-space:nowrap; padding:10px 12px; vertical-align:middle;
  border:1px solid #555; text-align:center;
}
body[data-page="monthly"] .table td.col-teknisi{ text-align:left !important; }

/* === FREEZE KOLOM AKSI (KANAN) === */
body[data-page="monthly"] .table th.col-aksi,
body[data-page="monthly"] .table td:last-child {
  position: sticky;
  right: 0;
  z-index: 3; /* Selevel dengan header baris 1 */
}
/* Pastikan header kolom Aksi punya z-index tertinggi agar di atas segalanya */
body[data-page="monthly"] .table thead tr.h1 th.col-aksi {
  z-index: 5;
}
body[data-page="monthly"] .table td:last-child {
  background: #fff; /* Warna solid agar tidak transparan */
}

/* Styling untuk tombol di kolom Aksi */
body[data-page="monthly"] .table td.aksi .btn-group {
  display: flex;
  gap: 8px;
  align-items: center; /* Pastikan tombol sejajar vertikal */
  justify-content: center;
}

/* Menyamakan ukuran tombol Edit dan Hapus, dan memastikan style ini HANYA untuk halaman monthly */
body[data-page="monthly"] .table td.aksi .btn-edit,
body[data-page="monthly"] .table td.aksi .btn-monthly-del {
display: inline-flex;
align-items: center;
justify-content: center;
height: 30px;
padding: 0 14px; 
min-width: 60px; 
box-sizing: border-box;
appearance: none; 
-webkit-appearance: none;
font-family: inherit;
line-height: 1;
margin: 0;
border-radius: 8px;
font-size: 10px;
font-weight: 600;
border: none;
cursor: pointer;
text-decoration: none;
}

body[data-page="monthly"] .table td.aksi .btn-edit { background-color: #2563eb; color: #fff; }
body[data-page="monthly"] .table td.aksi .btn-monthly-del {
  background-color: #ef4444; color: #fff;
}

/* Garis pemisah antara tombol Edit dan Hapus */
body[data-page="monthly"] .table td.aksi .btn-group .btn-monthly-del {
  position: relative;
}
body[data-page="monthly"] .table td.aksi .btn-group .btn-monthly-del::before {
  content: '';
  position: absolute;
  left: -4px; /* Posisikan di tengah gap */
  height: 170%;
  width: 1px;
  background-color: #444;
}

/* Spasi antar card */
body[data-page="monthly"] .card + .card{ margin-top:18px; }
body[data-page="monthly"] .card{ padding-bottom:18px; }

/* ========== RESPONSIVE ========== */
@media (max-width: 820px) {

  /* kiri: badge + search full width */
  body[data-page="monthly"] .controls-left { 
    flex: 1 1 100%; 
  }
  body[data-page="monthly"] .controls { 
    justify-content: flex-start; 
  }
  body[data-page="monthly"] .search-input { 
    width: 100%; 
  }

  /* tombol: 3 kolom sejajar */
  body[data-page="monthly"] .controls-right {
    width: 100%;
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    grid-auto-rows: var(--btn-h);
    gap: 10px;
    align-items: stretch;
    justify-items: stretch;
  }
  body[data-page="monthly"] .controls-right .btn {
    width: 100%;
    height: var(--btn-h) !important;
    min-height: var(--btn-h) !important;
    margin: 0;
    flex: 0 0 auto;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    padding: 0 var(--btn-pad-x);
    font-size: 11px; /* kecilkan sedikit agar muat */
  }

  /* Hapus efek “baris sendiri” untuk Tambah Data */
  body[data-page="monthly"] .controls-right .btn.info {
    order: 0;
    grid-column: auto;
    justify-self: stretch;
    width: 100%;
  }

  /* Tinggi tabel responsif */
  body[data-page="monthly"] .tablewrap { 
    max-height: calc(100vh - 280px);
    -webkit-overflow-scrolling: touch; /* iOS smooth scrolling */
  }

  /* Sticky header anti “celah” di iOS (penguat) */
  body[data-page="monthly"] .table thead tr.h1 th {
    position: sticky; 
    top: 0; 
    z-index: 3;
  }
  body[data-page="monthly"] .table thead tr.h2 th {
    position: sticky;
    top: var(--th-h1); 
    z-index: 4;
    margin-top: -1px; /* rapetin border */
  }
}

/* HP mungil banget → boleh full width tombol Tambah Data */
@media (max-width:360px){
body[data-page="monthly"] .controls-right .btn.info{ width:100%; }
}

/* Guard layout utama */
body[data-page="monthly"] .dashboard .main{ min-width:0; }

/* ===== Icon-only action buttons (override) ===== */
body[data-page="monthly"] .table td.aksi .btn-edit,
body[data-page="monthly"] .table td.aksi .btn-monthly-del{
  width:36px; height:36px; min-width:36px; min-height:36px;
  padding:0; font-size:0; border-radius:10px; appearance:none; -webkit-appearance:none;
}
body[data-page="monthly"] .table td.aksi .btn-edit .material-icons,
body[data-page="monthly"] .table td.aksi .btn-monthly-del .material-icons{
  font-size:18px; line-height:1;
}
@media (hover:hover) and (pointer:fine){
  body[data-page="monthly"] .table td.aksi .btn-edit:hover,
  body[data-page="monthly"] .table td.aksi .btn-monthly-del:hover{ filter:brightness(1.05); }
}

body[data-page="monthly"] .table td.aksi .btn-group .btn-monthly-del{ position:relative; }
body[data-page="monthly"] .table td.aksi .btn-group .btn-monthly-del::before{
  content:""; position:absolute; left:-4px; top:50%; transform:translateY(-50%);
  height:100%; width:1px; background-color:#444;
}
